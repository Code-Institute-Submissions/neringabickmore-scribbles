{% extends "layout/base.html" %}
{% block content %}
{% if main_content == "edit_review" %}
<div class="container-fluid">
    {% include "components/forms/edit-review.html" %}
</div>
{% elif main_content == "add_review" %}
<div class="container-fluid">
    {% include "components/forms/add-review.html" %}
</div>
{% else %}
<!-- Title -->
<div class="col-12 mb-2">
    <div class="d-flex justify-content-center">
        <h1 class="m-2"> My reviews </h1>
        <!-- Add review button"-->
        <a class="btn" href="/add/review"><i class="fas fa-plus icon-btn"></i></a>
    </div>
</div>

<!-- Reviews container -->
<div class="container-fluid m-md-3 reviews-container">
    <div class="row my-2">
        {% for review in reviews %}
        <div class="col-lg-4 col-md-6 col-12">
            
            <!-- Genre category -->
            <h2 class="text-left my-4"> {{ review.genre}} </h2>
            <div class="review-box m-3 p-2">

                <!-- Action button"-->
                <a class="btn" href="{{ url_for('delete_review', review_id=review._id)}}"><i
                        class="fas fa-trash-alt icon-btn"></i></a>
                <a class="btn" href="{{ url_for('edit_review', review_id=review._id)}}"><i
                        class="fas fa-pen icon-btn"></i></a>

                <!-- Book cover img -->
                <img class="col-sm-12 book-cover m-2" src="{{ review.link_to_image }}" alt="book cover"><br>

                <!-- Book review -->
                {% include 'components/content/review.html' %}
            </div>
            
        </div>
        {% endfor %}
    </div>
</div>

{% endif %}
{% endblock %}